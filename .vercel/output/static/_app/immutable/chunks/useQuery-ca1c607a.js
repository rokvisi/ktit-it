import{r as Q}from"./index-ca34a969.js";import{c as s,l as c}from"./logger-312c5320.js";import{u as h,Q as S}from"./useQueryClient-977cb811.js";import"./index-055277d2.js";import"./preload-helper-aa6bc0ce.js";function o(e){return e.optimisticResults=!0,e.onError&&(e.onError=s.batchCalls(e.onError)),e.onSuccess&&(e.onSuccess=s.batchCalls(e.onSuccess)),e.onSettled&&(e.onSettled=s.batchCalls(e.onSettled)),e}function x(e,i,f){const b=c(e,i,f),n=h();let u=n.defaultQueryObserverOptions(b);u=o(u);const r=new S(n,u),{subscribe:d}=Q(r.getCurrentResult(),t=>r.subscribe(s.batchCalls(t)));r.updateResult();function p(t,m,y){const C=c(t,m,y);let a=n.defaultQueryObserverOptions(C);a=o(a),r.hasListeners()&&r.setOptions(a,{listeners:!1})}function l(t){r.updateOptions(t)}function O(t){l({enabled:t})}return{subscribe:d,setOptions:p,updateOptions:l,setEnabled:O}}export{x as u};
